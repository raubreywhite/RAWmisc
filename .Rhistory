pushViewport
grid::pushViewport
gpar
unit
grid::unit
html_document
file <- system.file("extdata","counties","NOR_adm1.shp",package="RAWmisc")
file
map <- FortifyShapeFile(file, "NAME_1")
FortifyShapeFile <- function(file, region){
map <- maptools::readShapeSpatial(file)
fortifiedMap <- maptools::fortify(map,region=region)
return(fortifiedMap)
}
file <- system.file("extdata","counties","NOR_adm1.shp",package="RAWmisc")
map <- FortifyShapeFile(file, "NAME_1")
maptools:::fortify
rgdal::fortify
FortifyShapeFile <- function(file, region){
map <- maptools::readShapeSpatial(file)
fortifiedMap <- broom::tidy(map,region=region)
return(fortifiedMap)
}
map <- FortifyShapeFile(file, "NAME_1")
map
unique(map$id)
map$county <- ""
map$county[map$id=="\xc3stfold"]
file <- system.file("extdata","municipalities","kommuner_2013.shp",package="RAWmisc")
map <- FortifyShapeFile(file, "ID")
map$municip <- paste0("municip", map$id)
map
unique(map$id)
file <- system.file("extdata","counties","NOR_adm1.shp",package="RAWmisc")
map <- FortifyShapeFile(file, "NAME_1")
unique(map$id)
na.omit
stats::na.omit
sessionInfo
globalenv
devtools::load_all(".")
file.path
file.path("d","d")
file.path("d","d","/")
grDevices::png
margin
ggplot2::unit()
gmailr::%>%
%>%
magrittr::%>%
list.files("/git/RAWmisc.Rcheck")
list.files("/git/RAWmisc.Rcheck/")
search()
grid
getwd()
rev(stringr::str_split(getwd(),"/")[[1]])
rev(stringr::str_split(getwd(),"/")[[1]])[1]
getwd()
if (Sys.getenv("INSIDE_HOME") != "") {
INSIDE_HOME = Sys.getenv("INSIDE_HOME")
} else {
INSIDE_HOME <- "cleaning"
}
if (Sys.getenv("NAME") != "") {
NAME <- Sys.getenv("NAME")
} else {
NAME <- rev(stringr::str_split(getwd(),"/")[[1]])[1]
}
INSIDE_HOME
NAME
rev(stringr::str_split(getwd(),"/")[[1]])[2]
if (Sys.getenv("INSIDE_HOME") != "") {
INSIDE_HOME <- Sys.getenv("INSIDE_HOME")
} else {
INSIDE_HOME <- rev(stringr::str_split(getwd(),"/")[[1]])[2]
}
if (Sys.getenv("NAME") != "") {
NAME <- Sys.getenv("NAME")
} else {
NAME <- rev(stringr::str_split(getwd(),"/")[[1]])[1]
}
if (Sys.getenv("STUB") != "") {
STUB <- Sys.getenv("STUB")
} else {
STUB <- stringr::str_replace(getwd(),file.path(INSIDE_HOME,NAME),"")
}
NAME
STUB
INSIDE_HOME
file.path("etc","gmailr","emails.xlsx")
file.path("/etc","gmailr","emails.xlsx")
data.table:::=
data.table::`:=``
data.table::`:=`
evtools::use_testthat()
devtools::use_testthat()
library(RAWmisc)
data <- data.table::data.table("a"=as.character(1:4),"b"=10:14)
switch <- c("1"="2")
RAWmisc::RecodeDT(data,switch,"a")
data
is.numeric(d$b)
is.numeric(data$b)
is.character(data$b)
data <- data.table::data.table("a"=1:4,"b"=11:14)
switch <- c("1"="2")
RAWmisc::RecodeDT(data,switch,"a")
library(RAWmisc)
data
difftime
formatC
sprintf
tempdir()
InitialiseProject(HOME=tempdir(),
RAW=tempdir(),
CLEAN=tempdir(),
BAKED=tempdir(),
FINAL=tempdir(),
SHARED=tempdir())
library(RAWmisc)
InitialiseProject(HOME=tempdir(),
RAW=tempdir(),
CLEAN=tempdir(),
BAKED=tempdir(),
FINAL=tempdir(),
SHARED=tempdir())
AllowFileManipulationFromInitialiseProject()
InitialiseProject(HOME=tempdir(),
RAW=tempdir(),
CLEAN=tempdir(),
BAKED=tempdir(),
FINAL=tempdir(),
SHARED=tempdir())
RAWmisc::PROJ
names(RAWmisc::PROJ)
library(RAWmisc)
devtools::install_github("raubreywhite/RAWmisc")
min = 0
max=1-
pb <- list()
pb$min <- min
pb$max <- max
pb$timeStart <- Sys.time()
min=0
max=10
pb <- list()
pb$min <- min
pb$max <- max
pb$timeStart <- Sys.time()
value=3
timeTaken <- as.numeric(difftime(Sys.time(),pb$timeStart, units = "mins"))
propCompleted <- (value-pb$min)/(pb$max-pb$min)
timeTotal <- timeTaken/propCompleted
timeLeft <- timeTotal-timeTaken
timeTotal
?lubridate::add_with_rollback
Sys.time()+3
Sys.time()+3
Sys.time()+3000
Sys.time()+lubridate::minutes(10)
Sys.time()
Sys.time()
format(Sys.time(),'%H:%M:%S')
source('/git/RAWmisc/R/ProgressBar.R')
devtools::install_github("raubreywhite/RAWmisc")
source('/git/RAWmisc/R/ProgressBar.R')
lubridate::now()
timeLeft <- 3
lubridate::now()+lubridate::minutes(round(timeLeft))
?lubridate::minutes
format(lubridate::now()+lubridate::minutes(round(timeLeft)),'%H:%M:%S')
format
Format
print
difftime
sprintf
floor
warnings()
65%%60
65%%60
as.ITime("1:1")
data.table::as.ITime("1:1")
data.table::as.ITime("1:01")
data.table::as.ITime("1:01")
data.table::as.ITime("11:0")
data.table::year
data.table::week
data.table::isoweek
YearWeek <- function(date=lubridate::today()){
return(sprintf("%s-%s",data.table::year(date),data.table::isoweek(date)))
}
YearWeek()
warning()
devtools::check()
devtools::document()
?packageStartupMessage
interactive()
?interactive
?zip
zip
zip::zip
install.packages("zip")
library(zip)
dir.create(tmp <- tempfile())
cat("first file", file = file.path(tmp, "file1"))
cat("second file", file = file.path(tmp, "file2"))
zipfile <- tempfile(fileext = ".zip")
zip(zipfile, tmp)
?zip::zip
4 || 3
4 | 3
FALSE | TRUE
?|
?`|`
install.packages("drat")
drat::insertPackage("/git/RAWmisc_1.0.7.tar.gz",repo="/git/drat/")
drat:::add("raubreywhite")
install.packages("RAWmisc")
install.packages
?install.packages
getOption("repos")
\/usr\/local\/lib\/R\/etc\/Rprofile.site
list.files("/usr/local/lib/R/etc/")
system("head /usr/local/lib/R/etc/Rprofile.site")
system("head -n 100 /usr/local/lib/R/etc/Rprofile.site")
system("sed 's/c(/s/hi' /usr/local/lib/R/etc/Rprofile.site")
system("sed 's/c(/s/hi/' /usr/local/lib/R/etc/Rprofile.site")
system("sed 's/c\(/s/hi/' /usr/local/lib/R/etc/Rprofile.site")
system("sed 's/c/hi/' /usr/local/lib/R/etc/Rprofile.site")
system("sed 's/c(/hi/' /usr/local/lib/R/etc/Rprofile.site")
system("sed 's/c(/c(raubreywhite=\'https://raubreywhite.github.io/drat/\'/' /usr/local/lib/R/etc/Rprofile.site")
system("sed 's/c(/c(raubreywhite=https://raubreywhite.github.io/drat//' /usr/local/lib/R/etc/Rprofile.site")
system("sed 's/c(/hi/' /usr/local/lib/R/etc/Rprofile.site")
system("sed 's/c(/c(/' /usr/local/lib/R/etc/Rprofile.site")
system("sed 's/c(/c(raubreywhite=/' /usr/local/lib/R/etc/Rprofile.site")
system("sed 's/c(/c(raubreywhite=\'/' /usr/local/lib/R/etc/Rprofile.site")
system("sed 's/c(/c(raubreywhite=\\'/' /usr/local/lib/R/etc/Rprofile.site")
system("sed 's/c(/c(raubreywhite=\"/' /usr/local/lib/R/etc/Rprofile.site")
system('sed "s/c(/c(raubreywhite=\'/" /usr/local/lib/R/etc/Rprofile.site')
system('sed "s/c(/c(raubreywhite=\'https://raubreywhite.github.io/drat//" /usr/local/lib/R/etc/Rprofile.site')
system('sed "s/c(/c(raubreywhite=\'https://raubreywhite.github.io/drat/" /usr/local/lib/R/etc/Rprofile.site')
system('sed "s/c(/c(raubreywhite=\'https:\/\/raubreywhite.github.io/drat/" /usr/local/lib/R/etc/Rprofile.site')
system('sed "s/c(/c(raubreywhite=\'https:\//raubreywhite.github.io/drat/" /usr/local/lib/R/etc/Rprofile.site')
system('sed "s/c(/c(raubreywhite=\'https\://raubreywhite.github.io/drat/" /usr/local/lib/R/etc/Rprofile.site')
system('sed "s/c(/c(raubreywhite=\'https://raubreywhite.github.io/drat/" /usr/local/lib/R/etc/Rprofile.site')
system('sed "s/c(/c(raubreywhite=\'dt/" /usr/local/lib/R/etc/Rprofile.site')
system('sed "s/c(/c(raubreywhite=\'https/" /usr/local/lib/R/etc/Rprofile.site')
system('sed "s/c(/c(raubreywhite=\'https:/" /usr/local/lib/R/etc/Rprofile.site')
system('sed "s/c(/c(raubreywhite=\'https:///" /usr/local/lib/R/etc/Rprofile.site')
system('sed "s/c(/c(raubreywhite=\'https:\///" /usr/local/lib/R/etc/Rprofile.site')
system('sed "s/c(/c(raubreywhite=\'https:\\///" /usr/local/lib/R/etc/Rprofile.site')
system('sed "s/c(/c(raubreywhite=\'https:\\//" /usr/local/lib/R/etc/Rprofile.site')
system('sed "s/c(/c(raubreywhite=\'https:\\/\\//" /usr/local/lib/R/etc/Rprofile.site')
system('sed "s/c(/c(raubreywhite=\'https:\\/\\/raubreywhite.github.io//" /usr/local/lib/R/etc/Rprofile.site')
system('sed "s/c(/c(raubreywhite=\'https:\\/\\/raubreywhite.github.io\\/drat\\//" /usr/local/lib/R/etc/Rprofile.site')
system('sed "s/c(/c(raubreywhite=\'https:\\/\\/raubreywhite.github.io\\/drat\\/\',/" /usr/local/lib/R/etc/Rprofile.site')
system('sed "s/c(CRAN/c(raubreywhite=\'https:\\/\\/raubreywhite.github.io\\/drat\\/\',CRAN/" /usr/local/lib/R/etc/Rprofile.site')
system('sed "s/CRAN/raubreywhite=\'https:\\/\\/raubreywhite.github.io\\/drat\\/\',CRAN/" /usr/local/lib/R/etc/Rprofile.site')
devtools::build_win()
drat::insertPackage("/git/RAWmisc_1.0.7.zip","/git/drat/")
options("repos")
file=tempfile()
file.info(file)
file.exists(file)
file="/git/RAWmisc/R/format.R"
file.exists(file)
file.info(file)
sleep(1)
Sys.sleep(1)
Sys.sleep
drat::insertPackage("/git/RAWmisc_1.0.7.tar.gz","/git/drat/")
